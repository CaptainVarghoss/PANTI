{% extends "base.html" %}

{% block headerinjection %}
<script id="app_settings" type="text/json">{{ settings|tojson }}</script>
{% endblock %}

{% block title %}Home{% endblock %}

{% block headerblock %}
    <p>{{ current_user.username }}{% if current_user.admin == True %} (admin) {% endif %} </p>
{% endblock %}

{% block content %}
<div class="modal fade fullsizeModal" id="fullsizeModal" tabindex="-1">
    <div class="modal-dialog m-0 justify-items-center">
        <div class="modal-content bg-transparent border-0 w-auto">
            <div id="image-container-modal" class="image-container-modal d-flex justify-content-center" role="button" data-bs-dismiss="modal">
            </div>
            <div class="modal-body p-0 w-auto">
                <div class="image-modal-info modal-content p-2 bg-transparent border-0" id="imageModalInfo">
                    <div class="tags mb-3 bg-body-tertiary rounded-4 border-2 p-3 align-items-top id=tagReplaceBox">
                        {% include "includes/modal_tag_box.html" %}
                    </div>
                </div>
                <div class="close-button-container float-end m-2">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="images-block g-0 mt-2" id="imagesBlock">
    {% for i in images %}
    {% include "includes/thumbnail.html" %}
    {% endfor %}
</div>
<div id="load-more" hx-get="/load_more_images?q={{ search }}&offset={{ next_offset }}" hx-target="#imagesBlock" hx-trigger="intersect once" hx-swap="beforeend">
</div>
{% endblock %}